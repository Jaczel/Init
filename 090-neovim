#!/bin/bash
# Install Neovim
# REQUIRES: 007-apt-update

source common

echoStatus "Install NeoVim prereqs from APT"
sudo apt-get install -y \
autoconf \
automake \
cmake \
g++ \
libtool \
libtool-bin \
pkg-config \
python2.7-dev \
python-pip \
unzip \


echoStatus "Check Python-PIP"
pip --version 2>&1 >/dev/null

if [ "$?" != 0 ]; then
	echoStatus "Download Python-PIP"
	cd /tmp
	wget https://raw.github.com/pypa/pip/master/contrib/get-pip.py --no-check-certificate
	echoStatus "Install Python-PIP"
	sudo python get-pip.py
fi


echoStatus "Install NeoVim python support"
sudo pip install neovim


echoStatus "Clone Neovim repo"
cd
mkdir src
cd src
git clone https://github.com/neovim/neovim.git
cd neovim

echoStatus "Build Neovim"
make
sudo make install


echoStatus "Link config directories"
cd
ln -s .vimrc .nvimrc
ln -s .vim .nvim
